---
- name: Check mysql_root_password
  assert:
    that:
      - mysql_root_password|string|length > 0
      - mysql_repl_password|string|length > 0
      - mysql_group_replication_name|string|length > 0
  run_once: True
  delegate_to: localhost

- name: Check mysql_innodb_cluster_password
  assert:
    that:
      - mysql_innodb_cluster_password|string|length > 0
  run_once: True
  delegate_to: localhost
  when:
    - mysql_cluster_type == 'mgr'
    - mysql_innodb_cluster_enable|bool

- name: Check mysql_proxysql_monitor_password
  assert:
    that:
      - mysql_proxysql_monitor_password|string|length > 0
  run_once: True
  delegate_to: localhost
  when:
    - mysql_proxysql_config|bool
